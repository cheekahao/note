"use strict";(self.webpackChunknote=self.webpackChunknote||[]).push([["6586"],{5774:function(e,d,c){c.r(d),c.d(d,{default:()=>h});var n=c(5893),s=c(65);function r(e){let d=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",strong:"strong",ul:"ul",li:"li",h3:"h3",pre:"pre",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",em:"em"},(0,s.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.h1,{id:"http基础",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http基础",children:"#"}),"HTTP基础"]}),"\n",(0,n.jsxs)(d.h2,{id:"uri与url",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#uri与url",children:"#"}),"URI与URL"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"Web"}),"服务器资源名被称为",(0,n.jsx)(d.strong,{children:"统一资源标识符"}),"（Uniform Resource Identifier, URI）。",(0,n.jsx)(d.code,{children:"URI"}),"就像因特网上的邮件地址一样，在世界范围内唯一标识并定位信息资源。"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"URI"}),"有两种形式，",(0,n.jsx)(d.code,{children:"URL"}),"和",(0,n.jsx)(d.code,{children:"URN"}),"。"]}),"\n",(0,n.jsxs)(d.p,{children:["统一资源定位符（URL）是",(0,n.jsx)(d.code,{children:"URI"}),"的最常见方式，描述了一台特定服务器上某资源的特定位置，可以明确说明如何从一个精确、固定的位置获取资源。"]}),"\n",(0,n.jsxs)(d.p,{children:["大部分",(0,n.jsx)(d.code,{children:"URL"}),"都遵守的标准格式包含以下三个部分："]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:["方案（scheme），表示资源使用的协议类型。如",(0,n.jsx)(d.code,{children:"HTTP"}),"协议",(0,n.jsx)(d.code,{children:"http://"})]}),"\n",(0,n.jsxs)(d.li,{children:["因特网网址，例如：",(0,n.jsx)(d.code,{children:"www.baidu.com"})]}),"\n",(0,n.jsxs)(d.li,{children:["资源路径，例如：",(0,n.jsx)(d.code,{children:"/network/http.html"})]}),"\n"]}),"\n",(0,n.jsxs)(d.p,{children:["统一资源名（URN）是作为特定内容的唯一名称使用，与资源所在地无关。使用这个与位置无关的",(0,n.jsx)(d.code,{children:"URN"}),"，就可以将资源四处搬移，也可以用同一个名字通过多种网路访问协议来访问资源。"]}),"\n",(0,n.jsxs)(d.p,{children:["例如因特网标准文档RFC 2141可以命名为：",(0,n.jsx)(d.code,{children:"urn:ietf:rfc:2141"})]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"URN"}),"仍然处于试验阶段。永久统一资源定位符（persistent uniform resource locators, ",(0,n.jsx)(d.code,{children:"PURL"}),"）使用",(0,n.jsx)(d.code,{children:"URL"}),"来实现",(0,n.jsx)(d.code,{children:"URN"}),"功能的一个例子。其基本思想是在搜索资源过程中引入另一个中间层，通过一个中间资源定位符服务器对资源的实际",(0,n.jsx)(d.code,{children:"URL"}),"进行登记和跟踪。"]}),"\n",(0,n.jsxs)(d.h3,{id:"url语法",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#url语法",children:"#"}),"URL语法"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"URL"}),"提供了一种定位",(0,n.jsx)(d.code,{children:"Internet"}),"上任意资源的手段，但是不同的方案(例如",(0,n.jsx)(d.code,{children:"HTTP"}),"、",(0,n.jsx)(d.code,{children:"FTP"}),"和",(0,n.jsx)(d.code,{children:"SMTP"}),"等)的语法不尽相同。"]}),"\n",(0,n.jsxs)(d.p,{children:["大部分",(0,n.jsx)(d.code,{children:"URL"}),"方案的",(0,n.jsx)(d.code,{children:"URL"}),"语法建立在以下九个部分的通用格式上："]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:"<scheme>://<user>:<password>@<host>:<port>/<path>;<params>?<query>#<frag>\n"})}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{align:"center",children:"组件"}),(0,n.jsx)(d.th,{children:"描述"}),(0,n.jsx)(d.th,{align:"center",children:"默认值"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["方案",(0,n.jsx)(d.code,{children:"scheme"})]}),(0,n.jsxs)(d.td,{children:["访问服务器时使用的协议，有第一个",(0,n.jsx)(d.code,{children:":"}),"将其与",(0,n.jsx)(d.code,{children:"URL"}),"其余部分分隔开，大小写无关"]}),(0,n.jsx)(d.td,{align:"center",children:"-"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["用户",(0,n.jsx)(d.code,{children:"user"})]}),(0,n.jsxs)(d.td,{children:["访问时需要的用户名，",(0,n.jsx)(d.code,{children:"@"}),"将用户和密码组件和",(0,n.jsx)(d.code,{children:"URL"}),"其余部分分隔开"]}),(0,n.jsx)(d.td,{align:"center",children:"匿名"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["密码",(0,n.jsx)(d.code,{children:"password"})]}),(0,n.jsxs)(d.td,{children:["用户名后面需要包含密码，中间由冒号(",(0,n.jsx)(d.code,{children:":"}),")分隔"]}),(0,n.jsxs)(d.td,{align:"center",children:[(0,n.jsx)(d.code,{children:"<E-mail>"}),"地址"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["主机",(0,n.jsx)(d.code,{children:"host"})]}),(0,n.jsxs)(d.td,{children:["资源宿主服务器的主机名或",(0,n.jsx)(d.code,{children:"IP"}),"地址"]}),(0,n.jsx)(d.td,{align:"center",children:"-"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["端口",(0,n.jsx)(d.code,{children:"port"})]}),(0,n.jsxs)(d.td,{children:["资源宿主服务器正在监听的端口号，很多方案都有默认端口号（",(0,n.jsx)(d.code,{children:"HTTP"}),"的默认端口号为",(0,n.jsx)(d.code,{children:"80"}),"）"]}),(0,n.jsx)(d.td,{align:"center",children:"每个方案特有"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["路径",(0,n.jsx)(d.code,{children:"path"})]}),(0,n.jsxs)(d.td,{children:["服务器上资源的本地名，用",(0,n.jsx)(d.code,{children:"/"}),"将其与前面的",(0,n.jsx)(d.code,{children:"URL"}),"组件分隔开，路径组件语法与服务器和方案有关。可以用",(0,n.jsx)(d.code,{children:"/"}),"将",(0,n.jsx)(d.code,{children:"HTTP URL"}),"的路径组件划分成一些路径段（path segment），每个路径段都有自己的参数",(0,n.jsx)(d.code,{children:"params"}),"组件"]}),(0,n.jsx)(d.td,{align:"center",children:"-"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["参数",(0,n.jsx)(d.code,{children:"params"})]}),(0,n.jsxs)(d.td,{children:["某些方案（例如",(0,n.jsx)(d.code,{children:"FTP"}),"）可以用这个组件来输入参数，参数为名/值对，可以包含多个参数字段，字段之间以及与路径其余部分之间用分号(",(0,n.jsx)(d.code,{children:";"}),")分隔"]}),(0,n.jsx)(d.td,{align:"center",children:"-"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["查询",(0,n.jsx)(d.code,{children:"query"})]}),(0,n.jsxs)(d.td,{children:["某些方案（例如",(0,n.jsx)(d.code,{children:"HTTP"}),"）用以传递参数以激活应用程序（比如数据库、公告板、搜索引擎等）。查询组件，没有通用格式，通常大部分网关希望查询字符串以名值对的形式出现名值对之间用",(0,n.jsx)(d.code,{children:"&"}),"分隔；用",(0,n.jsx)(d.code,{children:"?"}),"将其与",(0,n.jsx)(d.code,{children:"URL"}),"其余部分分隔开"]}),(0,n.jsx)(d.td,{align:"center",children:"-"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"center",children:["片段",(0,n.jsx)(d.code,{children:"frag"})]}),(0,n.jsxs)(d.td,{children:["一小片或者一部分资源的名字。引用对象时，不会将",(0,n.jsx)(d.code,{children:"frag"}),"传给服务器，只在客户端内部使用，通过",(0,n.jsx)(d.code,{children:"#"}),"将其与",(0,n.jsx)(d.code,{children:"URL"}),"其余部分分隔开"]}),(0,n.jsx)(d.td,{align:"center",children:"-"})]})]})]}),"\n",(0,n.jsxs)(d.h3,{id:"相对url",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#相对url",children:"#"}),"相对URL"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"URL"}),"有两种方式，绝对的和相对的。绝对",(0,n.jsx)(d.code,{children:"URL"}),"包含访问资源所需要的全部信息。"]}),"\n",(0,n.jsxs)(d.p,{children:["相对",(0,n.jsx)(d.code,{children:"URL"}),"是",(0,n.jsx)(d.code,{children:"URL"}),"的一种便捷缩略记法。相对",(0,n.jsx)(d.code,{children:"URL"}),"是不完整的，要获取访问资源所需要的全部信息必须相对于基础（base）",(0,n.jsx)(d.code,{children:"URL"}),"进行解析。"]}),"\n",(0,n.jsxs)(d.h3,{id:"url字符集",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#url字符集",children:"#"}),"URL字符集"]}),"\n",(0,n.jsxs)(d.p,{children:["基于历史原因，",(0,n.jsx)(d.code,{children:"URL"}),"采用",(0,n.jsx)(d.code,{children:"US-ASCII"}),"字符集。为了保证",(0,n.jsx)(d.code,{children:"URL"}),"的完整性，设计了",(0,n.jsx)(d.strong,{children:"转义序列"}),"。通过转义序列，可以用",(0,n.jsx)(d.code,{children:"US-ASCII"}),"字符集的有限子集对任意紫府进行编码。"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"URL"}),"转义序列的编码机制包含一个百分号（%），后面跟着两个表示字符",(0,n.jsx)(d.code,{children:"ASCII"}),"码的十六进制数。例如空格的",(0,n.jsx)(d.code,{children:"ASCII"}),"码为",(0,n.jsx)(d.code,{children:"32(0x20)"}),"，编码之后就是",(0,n.jsx)(d.code,{children:"%20"}),"。"]}),"\n",(0,n.jsxs)(d.p,{children:["在",(0,n.jsx)(d.code,{children:"URL"}),"中，还有以下几种字符也会被转义："]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:"由于有特殊含义被作为保留字符"}),"\n",(0,n.jsxs)(d.li,{children:["不在",(0,n.jsx)(d.code,{children:"US-ASCII"}),"可打印字符集中"]}),"\n",(0,n.jsx)(d.li,{children:"有些字符会与某些因特网网关和协议产生混淆"}),"\n"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{align:"center",children:"字符"}),(0,n.jsx)(d.th,{children:"保留/受限原因"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"%"})}),(0,n.jsx)(d.td,{children:"编码字符转义标志"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"/"})}),(0,n.jsx)(d.td,{children:"路径组件中分隔路径段的定界符"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"."})}),(0,n.jsx)(d.td,{children:"路径组件中使用"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"#"})}),(0,n.jsx)(d.td,{children:"分段定界符"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"?"})}),(0,n.jsx)(d.td,{children:"查询字符串定界符"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:";"})}),(0,n.jsx)(d.td,{children:"参数定界符"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:":"})}),(0,n.jsx)(d.td,{children:"方案、用户/口令以及主机/端口组件定界符"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"$,+"})}),(0,n.jsx)(d.td,{children:"保留"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"@&="})}),(0,n.jsx)(d.td,{children:"某些方案上下文有特殊含义"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:"`{}"}),(0,n.jsx)(d.td,{children:"^~[]'`"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:'<>"'})}),(0,n.jsxs)(d.td,{children:["不安全，在",(0,n.jsx)(d.code,{children:"URL"}),"范围之外用意义"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:"0x00-0x1F, 0x7F"})}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"US-ASCII"}),"不可打印字符，受限"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"center",children:(0,n.jsx)(d.code,{children:">0x7F"})}),(0,n.jsxs)(d.td,{children:["不在",(0,n.jsx)(d.code,{children:"US-ASCII"}),"7比特范围内，受限"]})]})]})]}),"\n",(0,n.jsxs)(d.h3,{id:"url方案",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#url方案",children:"#"}),(0,n.jsx)(d.code,{children:"URL"}),"方案"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{align:"left",children:"方案"}),(0,n.jsx)(d.th,{children:"描述"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"left",children:(0,n.jsx)(d.code,{children:"http"})}),(0,n.jsxs)(d.td,{children:["超文本传入协议方案，除了没有用户名和密码外，与通用",(0,n.jsx)(d.code,{children:"URL"}),"格式相符，默认端口80。"," 基本格式：",(0,n.jsx)(d.code,{children:"http://<host>:<port>/<path>?<query>#<frag>"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"left",children:(0,n.jsx)(d.code,{children:"https"})}),(0,n.jsxs)(d.td,{children:["与",(0,n.jsx)(d.code,{children:"http"}),"一致。默认端口443"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"left",children:(0,n.jsx)(d.code,{children:"mailto"})}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"mailto URL"}),"指向的是",(0,n.jsx)(d.code,{children:"Email"}),"地址，与其他方案有所不同，与标准",(0,n.jsx)(d.code,{children:"URL"}),"也有所不同，其语法记录在",(0,n.jsx)(d.code,{children:"RFC 822"}),"中"," 基本格式：",(0,n.jsx)(d.code,{children:"mailto:<RFC-822-addr-spec>"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"left",children:(0,n.jsx)(d.code,{children:"ftp"})}),(0,n.jsxs)(d.td,{children:["文件传输协议，用来从",(0,n.jsx)(d.code,{children:"FTP"}),"服务器上下载或者上传文件，并获取",(0,n.jsx)(d.code,{children:"FTP"}),"服务器的目录结构内容列表。基本格式：",(0,n.jsx)(d.code,{children:"ftp://<user>:<password>@<host>:<port>/<path>;<params>"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:[(0,n.jsx)(d.code,{children:"rtsp"}),", ",(0,n.jsx)(d.code,{children:"rtspu"})]}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"RTSP URL"}),"是可以通过实时流传输协议解析的音/视频媒体资源标识符。",(0,n.jsx)(d.code,{children:"rtspu"}),"表示使用",(0,n.jsx)(d.code,{children:"UDP"}),"获取资源。基本格式：",(0,n.jsx)(d.code,{children:"rtsp://<user>:<password>@<host>:<port>/<path>"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"left",children:(0,n.jsx)(d.code,{children:"file"})}),(0,n.jsxs)(d.td,{children:["表示一台指定主机(本地磁盘、网络文件系统、或其他一些文件共享系统)上可以直接访问的文件。 基本格式：",(0,n.jsx)(d.code,{children:"file://<host>/<path>"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"left",children:(0,n.jsx)(d.code,{children:"news"})}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"RFC 1036"}),"定义，用来访问一些特定的文章或者新闻组。",(0,n.jsx)(d.code,{children:"news URL"}),"包含的信息不足以对资源进行定位，需要解释程序。基本格式：",(0,n.jsx)(d.code,{children:"news:<newsgroup>``news:<new-article-id>"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{align:"left",children:(0,n.jsx)(d.code,{children:"telnet"})}),(0,n.jsxs)(d.td,{children:["用于访问交互式业务。表示的是可通过",(0,n.jsx)(d.code,{children:"telnet"}),"协议访问的交互式应用程序（资源）。基本格式：",(0,n.jsx)(d.code,{children:"telnet://<user>:<password>@<host>:<port>/"})]})]})]})]}),"\n",(0,n.jsxs)(d.h2,{id:"http事务",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http事务",children:"#"}),"HTTP事务"]}),"\n",(0,n.jsxs)(d.p,{children:["一个",(0,n.jsx)(d.code,{children:"HTTP"}),"事务由一条（从客户端发往服务器的）请求命令和一个（从服务器发回客户端的）响应结果组成。这种通信是通过名为",(0,n.jsx)(d.code,{children:"HTTP"}),"报文（HTTP message）的格式化数据块进行的。"]}),"\n",(0,n.jsxs)(d.h2,{id:"http协议版本",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http协议版本",children:"#"}),"HTTP协议版本"]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"HTTP/0.9"}),"，1991发布的原型版本，只支持",(0,n.jsx)(d.code,{children:"GET"}),"方法。响应后就马上关闭连接"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"HTTP/1.0"}),"，第一个得到广泛应用的版本，增加了",(0,n.jsx)(d.code,{children:"HEAD"}),"、",(0,n.jsx)(d.code,{children:"POST"}),"方法，增加了",(0,n.jsx)(d.code,{children:"HTTP Headers"}),"和响应状态码"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"HTTP/1.1"}),"，当前普遍使用的版本。","\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:["持久连接（",(0,n.jsx)(d.code,{children:"Keep-Alive"}),"），通道复用"]}),"\n",(0,n.jsxs)(d.li,{children:["增加了",(0,n.jsx)(d.code,{children:"PUT"}),"、",(0,n.jsx)(d.code,{children:"DELETE"}),"，",(0,n.jsx)(d.code,{children:"OPTIONS"}),"等方法"]}),"\n",(0,n.jsx)(d.li,{children:"新增断点续传，身份认证，状态管理，缓存等特性"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"HTTP/2.0"}),"，数据以二进制分帧进行传输，头信息压缩，支持服务端推送"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"HTTPS"}),"，使用",(0,n.jsx)(d.code,{children:"SSL"}),"加密传输的",(0,n.jsx)(d.code,{children:"HTTP"}),"安全版本"]}),"\n"]}),"\n",(0,n.jsxs)(d.h2,{id:"http报文",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http报文",children:"#"}),"HTTP报文"]}),"\n",(0,n.jsxs)(d.h3,{id:"报文流",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#报文流",children:"#"}),"报文流"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP"}),"报文是在",(0,n.jsx)(d.code,{children:"HTTP"}),"应用程序之间发送的数据块，以文本形式的原信息（meta-information）开头，描述了报文的内容和含义，后面跟着可选的数据部分。"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP"}),"使用术语",(0,n.jsx)(d.em,{children:"流入"}),"(inbound)和",(0,n.jsx)(d.em,{children:"流出"}),"(outbound)来描述事物处理(transaction)的方向。报文流入源端服务器，工作完成后回流用户的",(0,n.jsx)(d.code,{children:"Agent"}),"代理中。"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP"}),"报文会像水一样流动，向下游(downstream)流动。所有报文的发送者都在接受者的上游(upstream)。"]}),"\n",(0,n.jsxs)(d.h3,{id:"报文的组成部分",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#报文的组成部分",children:"#"}),"报文的组成部分"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP"}),"报文是简单的格式化数据块，由以下三部分组成："]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:"起始行(start line)，对报文进行描述"}),"\n",(0,n.jsx)(d.li,{children:"首部(header)，包含属性"}),"\n",(0,n.jsx)(d.li,{children:"主体(body)，可选的，包含数据"}),"\n"]}),"\n",(0,n.jsxs)(d.p,{children:["起始行和首部由行分隔，每行以一个由回车符(ASII码 13)和换行符(ASII码 10)组成的行终止序列(CRLF)作为结束。但稳健的应用程序通常也接受单个换行符作为行的终止，因为有些老的或者不完整的",(0,n.jsx)(d.code,{children:"HTTP"}),"应用程序并不总是即发送回车符，又发送换行符。"]}),"\n",(0,n.jsx)(d.p,{children:"主体(body)是一个可选的数据块，可以包含文本或者二进制数据。"}),"\n",(0,n.jsxs)(d.h3,{id:"http报文的语法",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http报文的语法",children:"#"}),"HTTP报文的语法"]}),"\n",(0,n.jsxs)(d.p,{children:["HTTP报文可以分为两类，请求报文(",(0,n.jsx)(d.code,{children:"request message"}),")和响应报文(",(0,n.jsx)(d.code,{children:"response message"}),")。请求报文向",(0,n.jsx)(d.code,{children:"Web"}),"服务器请求一个动作。响应报文将请求的结果返回给客户端。"]}),"\n",(0,n.jsx)(d.p,{children:"请求报文的格式："}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:"<method> <request-URL> <version>\n<headers>\n\n<entity-body>\n"})}),"\n",(0,n.jsx)(d.p,{children:"响应报文的格式："}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:"<version> <status> <reason-phrase>\n<headers>\n\n<entity-body>\n"})}),"\n",(0,n.jsx)(d.p,{children:"各部分具体描述如下："}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{align:"left",children:"部分"}),(0,n.jsx)(d.th,{children:"描述"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:["方法",(0,n.jsx)(d.code,{children:"method"})]}),(0,n.jsxs)(d.td,{children:["客户端系统服务器对资源执行的动作，例如：",(0,n.jsx)(d.code,{children:"GET"}),"、",(0,n.jsx)(d.code,{children:"HEAD"}),"或者",(0,n.jsx)(d.code,{children:"POST"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:["请求地址",(0,n.jsx)(d.code,{children:"request URL"})]}),(0,n.jsxs)(d.td,{children:["所请求资源的完整",(0,n.jsx)(d.code,{children:"URL"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:["版本",(0,n.jsx)(d.code,{children:"version"})]}),(0,n.jsxs)(d.td,{children:["报文所使用",(0,n.jsx)(d.code,{children:"HTTP"}),"版本，格式如下：",(0,n.jsx)(d.code,{children:"HTTP/<major>.<minor>"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:["状态码",(0,n.jsx)(d.code,{children:"status code"})]}),(0,n.jsx)(d.td,{children:"三位数字，描述请求过程发生的情况。第一位用于描述状态的一般类别"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:["原因短语",(0,n.jsx)(d.code,{children:"reason phrase"})]}),(0,n.jsx)(d.td,{children:"状态码的可读版本，包含行终止符之前的所有文本"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:["首部",(0,n.jsx)(d.code,{children:"header"})]}),(0,n.jsxs)(d.td,{children:["可以有0个或者多个首部。是一些系列的名值对。具体参见",(0,n.jsx)(d.a,{href:"#HTTP%E9%A6%96%E9%83%A8",children:"HTTP首部"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsxs)(d.td,{align:"left",children:["实体的主体部分",(0,n.jsx)(d.code,{children:"entity body"})]}),(0,n.jsx)(d.td,{children:"主要包含一个由任意数据组成的数据块。并不是所有的报文都包含实体部分"})]})]})]}),"\n",(0,n.jsx)(d.p,{children:"请求报文示例如下："}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:"GET /test/hi-there.txt HTTP/1.1\nAccept: text/*\nHost: www.haozhenjia.com\n"})}),"\n",(0,n.jsx)(d.p,{children:"响应报文示例："}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:"HTTP/1.1 200 OK\nContent-type: text/plain\nContent-length: 19\n\nHi! I'm a message!\n"})}),"\n",(0,n.jsxs)(d.h2,{id:"http方法",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http方法",children:"#"}),"HTTP方法"]}),"\n",(0,n.jsxs)(d.p,{children:["常用",(0,n.jsx)(d.code,{children:"HTTP"}),"方法见下表："]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"方法"}),(0,n.jsx)(d.th,{children:"描述"}),(0,n.jsx)(d.th,{align:"center",children:"是否包含主体"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GET"})}),(0,n.jsx)(d.td,{children:"从服务器获取一份文档"}),(0,n.jsx)(d.td,{align:"center",children:"否"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"HEAD"})}),(0,n.jsx)(d.td,{children:"只从服务器获取文档的首部"}),(0,n.jsx)(d.td,{align:"center",children:"否"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"POST"})}),(0,n.jsx)(d.td,{children:"向服务器发送需要处理的数据"}),(0,n.jsx)(d.td,{align:"center",children:"是"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"PUT"})}),(0,n.jsx)(d.td,{children:"将请求主体部分存储在服务器上"}),(0,n.jsx)(d.td,{align:"center",children:"是"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TRACE"})}),(0,n.jsx)(d.td,{children:"对可能经过代理服务器传送到服务器上的报文进行追踪"}),(0,n.jsx)(d.td,{align:"center",children:"否"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"OPTIONS"})}),(0,n.jsx)(d.td,{children:"决定可以在服务器是上执行那些方法"}),(0,n.jsx)(d.td,{align:"center",children:"否"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"DELETE"})}),(0,n.jsx)(d.td,{children:"从服务器上删除一份文档"}),(0,n.jsx)(d.td,{align:"center",children:"否"})]})]})]}),"\n",(0,n.jsxs)(d.h2,{id:"http状态码",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http状态码",children:"#"}),"HTTP状态码"]}),"\n",(0,n.jsx)(d.p,{children:"状态码分类如下："}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"整体范围"}),(0,n.jsx)(d.th,{children:"已定义范围"}),(0,n.jsx)(d.th,{children:"分类"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"100~199"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"100~101"})}),(0,n.jsx)(d.td,{children:"信息提示"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"200~299"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"200~206"})}),(0,n.jsx)(d.td,{children:"成功"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"300~399"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"300~305"})}),(0,n.jsx)(d.td,{children:"重定向"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"400~499"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"400~415"})}),(0,n.jsx)(d.td,{children:"客户端错误"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"500~599"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"500~505"})}),(0,n.jsx)(d.td,{children:"服务器错误"})]})]})]}),"\n",(0,n.jsxs)(d.h3,{id:"100199信息性状态码",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#100199信息性状态码",children:"#"}),"100~199信息性状态码"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP/1.1"}),"引入了信息性状态码，这些状态码相对较新，因其复杂性和感知价值尚存在一些争论，而受到限制。"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"状态码"}),(0,n.jsx)(d.th,{children:"原因短语"}),(0,n.jsx)(d.th,{children:"含义"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"100"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Continue"})}),(0,n.jsx)(d.td,{children:"说明收到了请求的初始部分，请客户端继续。发送了这个状态码之后，服务器在收到请求之后，必须进行响应。"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"101"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Switching Protocals"})}),(0,n.jsxs)(d.td,{children:["说明服务器正在根据客户端的指定，将协议切换成",(0,n.jsx)(d.code,{children:"Update"}),"首部所列的协议"]})]})]})]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.strong,{children:"100 Continue"}),"状态码是针对如下情况：客户端在发送一个有实体的主体部分之前，期望查看下服务器是否接受这个实体。"]}),"\n",(0,n.jsxs)(d.p,{children:["首先，客户端需要发送一个包含了",(0,n.jsx)(d.code,{children:"Expect: 100-continue"}),"首部的请求。这是一种优化，客户端只有在避免向服务器发送一个无法处理或使用大实体时，才使用",(0,n.jsx)(d.code,{children:"100 Continue"}),"。"]}),"\n",(0,n.jsxs)(d.p,{children:["服务器接受了该请求之后，用",(0,n.jsx)(d.code,{children:"100 Continue"}),"状态码或者错误码响应。如果在发送",(0,n.jsx)(d.code,{children:"100 Continue"}),"状态码之前，就收到了部分（或全部)实体，服务器就不需要发送这个状态码了，而是跳过这个阶段，在读完请求之后，发送一个最终的状态码。"]}),"\n",(0,n.jsxs)(d.p,{children:["代理接受到包含",(0,n.jsx)(d.code,{children:"Expect: 100-continue"}),"首部的请求，若知道下一个服务器兼容",(0,n.jsx)(d.code,{children:"HTTP/1.1"}),"，或者不知道是否兼容，都应该将",(0,n.jsx)(d.code,{children:"Expect"}),"首部放在请求中向下转发。如果知道不兼容",(0,n.jsx)(d.code,{children:"HTTP/1.1"}),"，则以",(0,n.jsx)(d.code,{children:"417 Expectation Failed"}),"响应。"]}),"\n",(0,n.jsxs)(d.h3,{id:"200299成功状态码",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#200299成功状态码",children:"#"}),"200~299成功状态码"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"状态码"}),(0,n.jsx)(d.th,{children:"原因短语"}),(0,n.jsx)(d.th,{children:"含义"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"200"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"OK"})}),(0,n.jsx)(d.td,{children:"请求成功，实体的主体部分包含了所请求的资源"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"201"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Created"})}),(0,n.jsxs)(d.td,{children:["用于创建服务器对象的请求（如",(0,n.jsx)(d.code,{children:"PUT"}),"），响应的主体包含了引用了已创建资源的",(0,n.jsx)(d.code,{children:"URL"}),"，",(0,n.jsx)(d.code,{children:"Location"}),"首部包含了具体引用"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"202"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Accepted"})}),(0,n.jsxs)(d.td,{children:["请求已被接受，但服务器还未对其执行任何操作。不能保证服务器会完成这个请求，只表示接受请求时是有效的。应该在",(0,n.jsx)(d.code,{children:"body"}),"中包含请求状态描述，以及预计完成时间（或者一个可以获取此信息的指针）"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"203"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Non-Authoritative Infomation"})}),(0,n.jsx)(d.td,{children:"实体首部包含的信息不是来自源服务器，而是来自资源的一份副本。如果中间节点上有副本，但无法或者没有对它所发送的资源有关元信息（首部）进行验证，就会出现这种情况。不是非用不可的，如果实体首部来自源服务器，相应为200的应用程序可以将其作为一种可选项使用"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"204"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"No Content"})}),(0,n.jsxs)(d.td,{children:["相应报文中包含若干首部和状态行，没有",(0,n.jsx)(d.code,{children:"body"}),"。主要用于在浏览器不转为显示新文档的情况下，对其进行更新（如刷新一个表单）"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"205"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Reset Content"})}),(0,n.jsxs)(d.td,{children:["用于告知浏览器清除当前前面中的所有",(0,n.jsx)(d.code,{children:"HTML"}),"表单元素"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"206"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Partial Content"})}),(0,n.jsxs)(d.td,{children:["成功执行了一个部分或者",(0,n.jsx)(d.code,{children:"Range"}),"请求。可以通过特殊的首部来获取部分或者某个范围内的文档。响应中必须包含",(0,n.jsx)(d.code,{children:"Content-Range"}),"、",(0,n.jsx)(d.code,{children:"Date"}),"以及",(0,n.jsx)(d.code,{children:"Etag"}),"或",(0,n.jsx)(d.code,{children:"Content Location"}),"首部"]})]})]})]}),"\n",(0,n.jsxs)(d.h3,{id:"300399重定向状态码",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#300399重定向状态码",children:"#"}),"300~399重定向状态码"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"状态码"}),(0,n.jsx)(d.th,{children:"原因短语"}),(0,n.jsx)(d.th,{children:"含义"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"300"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Moltiple Choice"})}),(0,n.jsxs)(d.td,{children:["请求一个实际指向多个资源的",(0,n.jsx)(d.code,{children:"URL"}),"时返回的状态码，带有一个选项列表，",(0,n.jsx)(d.code,{children:"Location"}),"首部包含首选",(0,n.jsx)(d.code,{children:"URL"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"301"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Moved Permanently"})}),(0,n.jsxs)(d.td,{children:["请求的",(0,n.jsx)(d.code,{children:"URL"}),"被移除，",(0,n.jsx)(d.code,{children:"Location"}),"首部包含新",(0,n.jsx)(d.code,{children:"URL"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"302"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Found"})}),(0,n.jsxs)(d.td,{children:["临时重定向，",(0,n.jsx)(d.code,{children:"Location"}),"首部包含临时地址，将来还请求这个",(0,n.jsx)(d.code,{children:"URL"}),"。",(0,n.jsx)(d.code,{children:"HTTP 1.0"}),"加入，但是",(0,n.jsx)(d.code,{children:"POST"}),"有问题，所以",(0,n.jsx)(d.code,{children:"HTTP 1.1"}),"增加了",(0,n.jsx)(d.code,{children:"303"}),"，很多浏览器将其当做",(0,n.jsx)(d.code,{children:"303"}),"处理"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"303"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"See Other"})}),(0,n.jsxs)(d.td,{children:["用",(0,n.jsx)(d.code,{children:"Location"}),"首部的地址来获取资源，主要目的是允许",(0,n.jsx)(d.code,{children:"POST"}),"请求将客户端定位到某个资源上，会将",(0,n.jsx)(d.code,{children:"POST"}),"转为",(0,n.jsx)(d.code,{children:"GET"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"304"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Not Modified"})}),(0,n.jsxs)(d.td,{children:["结合不同首部不同意义。对于",(0,n.jsx)(d.code,{children:"GET"}),"请求，表明资源未被修改，响应不包含",(0,n.jsx)(d.code,{children:"body"}),"部分"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"305"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Use Proxy"})}),(0,n.jsxs)(d.td,{children:["用",(0,n.jsx)(d.code,{children:"Location"}),"首部返回的代理地址访问资源"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"307"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Temporary Redirect"})}),(0,n.jsxs)(d.td,{children:["与",(0,n.jsx)(d.code,{children:"303"}),"类似，但是需要跟用户询问是否应该在新",(0,n.jsx)(d.code,{children:"URI"}),"上发起",(0,n.jsx)(d.code,{children:"POST"}),"方法，不会转为",(0,n.jsx)(d.code,{children:"GET"})]})]})]})]}),"\n",(0,n.jsxs)(d.h3,{id:"400499客户端错误状态码",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#400499客户端错误状态码",children:"#"}),"400～499客户端错误状态码"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"状态码"}),(0,n.jsx)(d.th,{children:"原因短语"}),(0,n.jsx)(d.th,{children:"含义"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"400"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Bad Request"})}),(0,n.jsx)(d.td,{children:"客户端发送了一个错误的请求"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"401"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Unauthorized"})}),(0,n.jsx)(d.td,{children:"无访问权限，需要进行验证"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"402"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Payment Required"})}),(0,n.jsx)(d.td,{children:"保留状态码，供未来使用"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"403"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Forbidden"})}),(0,n.jsx)(d.td,{children:"请求被服务器拒绝，用于服务器不想说明拒绝原因"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"404"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Not Found"})}),(0,n.jsxs)(d.td,{children:["服务器无法找到所请求的",(0,n.jsx)(d.code,{children:"URL"}),"，通常会包含一个",(0,n.jsx)(d.code,{children:"404"}),"页面供浏览器展示给用户看"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"405"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Mothod Not Allowed"})}),(0,n.jsxs)(d.td,{children:["请求方法对于的",(0,n.jsx)(d.code,{children:"URL"}),"不支持。在响应",(0,n.jsx)(d.code,{children:"body"}),"中包含",(0,n.jsx)(d.code,{children:"Allow"}),"首部，告知可以使用那些方法"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"406"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Not Acceptable"})}),(0,n.jsx)(d.td,{children:"客户端可以指定参数用以说明可接受的实体类型。表明服务器没有对应资源。一般服务器会包含一些首部，告知客户端原因"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"407"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Proxy Authentication Required"})}),(0,n.jsxs)(d.td,{children:["与",(0,n.jsx)(d.code,{children:"401"}),"类似，用于对资源进行验证的代理服务器"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"408"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Request Timeout"})}),(0,n.jsx)(d.td,{children:"完成客户端的请求耗时过长时，发送此状态码，并关闭连接"})]})]})]}),"\n",(0,n.jsxs)(d.h2,{id:"http首部",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http首部",children:"#"}),"HTTP首部"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP"}),"首部字段向请求报文和响应报文中添加了一些附加消息。",(0,n.jsx)(d.code,{children:"HTTP"}),"首部是一系列的名/值对列表。可分为以下几类："]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"通用首部"}),"，既可以出现在请求报文里，也可以出现在响应报文里"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"请求首部"}),"，提供更多关于请求的信息"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"响应首部"}),"，提供更多关于响应的信息"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"实体首部"}),"，描述实体的长度和内容、或者资源自身"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"扩展首部"}),"，规范中没有定义的首部"]}),"\n"]}),"\n",(0,n.jsxs)(d.p,{children:["将长的首部行分为多行可以提高可读性，被称之为",(0,n.jsx)(d.strong,{children:"首部延续行"}),"，多出来的每行前面至少要有一个空格或者制表符（Tab）"]}),"\n",(0,n.jsxs)(d.h2,{id:"get与post的区别",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#get与post的区别",children:"#"}),"GET与POST的区别"]}),"\n",(0,n.jsxs)(d.h3,{id:"浏览器的get和post",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#浏览器的get和post",children:"#"}),"浏览器的GET和POST"]}),"\n",(0,n.jsxs)(d.p,{children:["特指浏览器中非",(0,n.jsx)(d.code,{children:"Ajax"}),"的",(0,n.jsx)(d.code,{children:"HTTP"}),"请求，浏览器",(0,n.jsx)(d.code,{children:"GET"}),"用于读取一个资源，",(0,n.jsx)(d.code,{children:"POST"}),"用于提交一个表单。",(0,n.jsx)(d.code,{children:"GET"}),"请求是没有副作用的，是幂等的，而",(0,n.jsx)(d.code,{children:"POST"}),"请求用副作用，是不幂等的，但是接口中",(0,n.jsx)(d.code,{children:"POST"}),"是可以幂等的。"]}),"\n",(0,n.jsxs)(d.p,{children:["因为",(0,n.jsx)(d.code,{children:"GET"}),"是读取，可以对",(0,n.jsx)(d.code,{children:"GET"}),"请求的数据做缓存。可以做缓存浏览器本身上（彻底避免浏览器发请求），也可以做到代理上（如nginx），或者做到server端（用Etag，至少可以减少带宽消耗）。而",(0,n.jsx)(d.code,{children:"POST"}),"不能缓存，也不能保存为书签。如果尝试重新执行",(0,n.jsx)(d.code,{children:"POST"}),"请求，浏览器会弹一个框提示下刷新可能会有副作用，询问要不要继续。"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"GET"}),"和",(0,n.jsx)(d.code,{children:"POST"}),"携带数据的格式也有区别，",(0,n.jsx)(d.code,{children:"GET"}),"请求的数据附在",(0,n.jsx)(d.code,{children:"URL"}),"上而",(0,n.jsx)(d.code,{children:"POST"}),"请求的数据在",(0,n.jsx)(d.code,{children:"body"}),"里。并不是",(0,n.jsx)(d.code,{children:"GET"}),"只能用",(0,n.jsx)(d.code,{children:"URL"}),"，而是浏览器直接发出的",(0,n.jsx)(d.code,{children:"GET"}),"只能由一个",(0,n.jsx)(d.code,{children:"URL"}),"触发。所以",(0,n.jsx)(d.code,{children:"GET"}),"请求参数只能在",(0,n.jsx)(d.code,{children:"URL"}),"上附带",(0,n.jsx)(d.code,{children:"query string"}),"，但",(0,n.jsx)(d.code,{children:"HTTP"}),"协议本身并没有这个限制。"]}),"\n",(0,n.jsxs)(d.p,{children:["浏览器的",(0,n.jsx)(d.code,{children:"POST"}),"请求都来自表单提交，表单的数据被浏览器用编码到",(0,n.jsx)(d.code,{children:"HTTP"}),"请求的",(0,n.jsx)(d.code,{children:"body"}),"里。主要有有两种格式，一种是",(0,n.jsx)(d.code,{children:"application/x-www-form-urlencoded"}),"，用来传输类似",(0,n.jsx)(d.code,{children:"key1=value1&key2=value2"}),"这样的简单数据；另外一种是",(0,n.jsx)(d.code,{children:"multipart/form-data"}),"，用来传输文件。因为",(0,n.jsx)(d.code,{children:"application/x-www-form-urlencoded"}),"对于文件这种二进制的数据非常低效。"]}),"\n",(0,n.jsxs)(d.h3,{id:"接口中的get和post",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#接口中的get和post",children:"#"}),"接口中的GET和POST"]}),"\n",(0,n.jsxs)(d.p,{children:["指通过浏览器的",(0,n.jsx)(d.code,{children:"Ajax"}),"，或者",(0,n.jsx)(d.code,{children:"iOS"}),"/",(0,n.jsx)(d.code,{children:"Android"}),"等的",(0,n.jsx)(d.code,{children:"HTTP Client"}),"发出的",(0,n.jsx)(d.code,{children:"GET"}),"和",(0,n.jsx)(d.code,{children:"POST"}),"请求。此时",(0,n.jsx)(d.code,{children:"GET/POST"}),"不光能用在前端和后端的交互中，还能用在后端各个子服务的调用中（即当一种",(0,n.jsx)(d.code,{children:"RPC"}),"协议使用）。"]}),"\n",(0,n.jsxs)(d.p,{children:["从",(0,n.jsx)(d.code,{children:"HTTP"}),"协议本身看，并没有什么限制",(0,n.jsx)(d.code,{children:"GET"}),"一定不能没有",(0,n.jsx)(d.code,{children:"body"}),"，",(0,n.jsx)(d.code,{children:"POST"}),"一定不能把参书放到",(0,n.jsx)(d.code,{children:"URL"}),"的查询参数（",(0,n.jsx)(d.code,{children:"query string"}),"）上。为了统一风格，形成了一系列的接口规范/风格，例如",(0,n.jsx)(d.code,{children:"REST"}),"、",(0,n.jsx)(d.code,{children:"GraphQL"}),"等。",(0,n.jsx)(d.code,{children:"REST"}),"推荐在",(0,n.jsx)(d.code,{children:"body"}),"中使用",(0,n.jsx)(d.code,{children:"application/json"}),"格式，与",(0,n.jsx)(d.code,{children:"x-www-form-urlencoded"}),"相比，具有",(0,n.jsx)(d.strong,{children:"可嵌套"}),"和",(0,n.jsx)(d.strong,{children:"数据类型更丰富"}),"的优势。"]}),"\n",(0,n.jsxs)(d.h3,{id:"关于安全性",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#关于安全性",children:"#"}),"关于安全性"]}),"\n",(0,n.jsxs)(d.h2,{id:"web的结构组件",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#web的结构组件",children:"#"}),"Web的结构组件"]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:["代理，位于客户端和服务器之间的",(0,n.jsx)(d.code,{children:"HTTP"}),"中间实体"]}),"\n",(0,n.jsxs)(d.li,{children:["缓存，",(0,n.jsx)(d.code,{children:"HTTP"}),"的仓库，使常用页面的副本可以保存在离客户端更近的地方"]}),"\n",(0,n.jsxs)(d.li,{children:["网关，连接其他应用程序的特殊",(0,n.jsx)(d.code,{children:"Web"}),"服务器"]}),"\n",(0,n.jsxs)(d.li,{children:["隧道，对",(0,n.jsx)(d.code,{children:"HTTP"}),"通信报文进行盲转发的特殊代理"]}),"\n",(0,n.jsxs)(d.li,{children:["Agent代理，发起自动",(0,n.jsx)(d.code,{children:"HTTP"}),"请求的半智能",(0,n.jsx)(d.code,{children:"Web"}),"客户端"]}),"\n"]}),"\n",(0,n.jsxs)(d.h2,{id:"http2-与-http3",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http2-与-http3",children:"#"}),"HTTP/2 与 HTTP/3"]}),"\n",(0,n.jsxs)(d.h3,{id:"http2",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http2",children:"#"}),"HTTP/2"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP/2"}),"旨在解决",(0,n.jsx)(d.code,{children:"HTTP/1.1"}),"的性能问题，没有改变",(0,n.jsx)(d.code,{children:"HTTP"}),"的语义（方法、状态码等），改变了数据传输的格式和方式。"]}),"\n",(0,n.jsx)(d.p,{children:"主要特点与改进："}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"二进制分帧："})," 不再使用纯文本，而是将传输的数据分割为更小的二进制帧。这使得解析更快、更高效，错误更少。"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"多路复用："})," 这是最核心的特性。在一个TCP连接上，可以同时交错地发送多个请求和响应帧。请求A和请求B的帧可以混杂在一起传输，服务器也能将其正确组装。这彻底解决了 HTTP 层面的队头阻塞，使得单个连接就能实现高效并行。"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"头部压缩："})," 使用",(0,n.jsx)(d.code,{children:"HPACK"}),"算法对HTTP头部进行压缩，大幅减少了冗余头部数据的传输。"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"服务器推送："})," 服务器可以预测客户端的需要，在客户端请求一个资源（如HTML）时，主动将其他关联资源（如CSS、JS）推送给客户端，减少请求往返"]}),"\n"]}),"\n",(0,n.jsxs)(d.h3,{id:"http3",children:[(0,n.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#http3",children:"#"}),"HTTP/3"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"HTTP/3"}),"是下一代协议，它通过彻底更换底层传输协议来解决",(0,n.jsx)(d.code,{children:"HTTP/2"}),"遗留的",(0,n.jsx)(d.code,{children:"TCP"}),"队头阻塞问题。"]}),"\n",(0,n.jsx)(d.p,{children:"主要特点与革命："}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsxs)(d.strong,{children:["基于",(0,n.jsx)(d.code,{children:"QUIC"}),"协议："]})," 这是最根本的改变。",(0,n.jsx)(d.code,{children:"QUIC"}),"不再使用",(0,n.jsx)(d.code,{children:"TCP"}),"，而是基于",(0,n.jsx)(d.code,{children:"UDP"}),"协议，并在其上实现了可靠传输。"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"解决TCP队头阻塞："})," ",(0,n.jsx)(d.code,{children:"QUIC"}),"在协议层面原生实现了多路复用。每个数据流都是独立的，单个数据流的丢包只会影响该流本身，其他流完全不受影响。这彻底解决了",(0,n.jsx)(d.code,{children:"TCP"}),"队头阻塞问题，使得单个连接能并行处理多个请求。"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"极快的连接建立："})," ",(0,n.jsx)(d.code,{children:"QUIC"}),"将加密和连接建立合二为一。对于访问过的服务器，它可以实现",(0,n.jsx)(d.code,{children:"0-RTT"}),"的握手，意味着在第一次发送数据时就可以携带应用数据，极大降低延迟。"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"连接迁移："})," 当你的网络在 Wi-Fi 和 5G 之间切换导致IP地址变化时，",(0,n.jsx)(d.code,{children:"TCP"}),"连接会中断。而",(0,n.jsx)(d.code,{children:"QUIC"}),"使用连接ID来标识连接，网络切换时只要ID不变，连接就能无缝保持。"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"内建加密："})," 加密（TLS 1.3）是QUIC协议不可分割的一部分，所有HTTP/3流量都是加密的。"]}),"\n"]})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:d}=Object.assign({},(0,s.ah)(),e.components);return d?(0,n.jsx)(d,Object.assign({},e,{children:(0,n.jsx)(r,e)})):r(e)}let h=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["network%2Fhttp.md"]={toc:[{id:"uri与url",text:"URI与URL",depth:2},{id:"url语法",text:"URL语法",depth:3},{id:"相对url",text:"相对URL",depth:3},{id:"url字符集",text:"URL字符集",depth:3},{id:"url方案",text:"`URL`方案",depth:3},{id:"http事务",text:"HTTP事务",depth:2},{id:"http协议版本",text:"HTTP协议版本",depth:2},{id:"http报文",text:"HTTP报文",depth:2},{id:"报文流",text:"报文流",depth:3},{id:"报文的组成部分",text:"报文的组成部分",depth:3},{id:"http报文的语法",text:"HTTP报文的语法",depth:3},{id:"http方法",text:"HTTP方法",depth:2},{id:"http状态码",text:"HTTP状态码",depth:2},{id:"100199信息性状态码",text:"100~199信息性状态码",depth:3},{id:"200299成功状态码",text:"200~299成功状态码",depth:3},{id:"300399重定向状态码",text:"300~399重定向状态码",depth:3},{id:"400499客户端错误状态码",text:"400～499客户端错误状态码",depth:3},{id:"http首部",text:"HTTP首部",depth:2},{id:"get与post的区别",text:"GET与POST的区别",depth:2},{id:"浏览器的get和post",text:"浏览器的GET和POST",depth:3},{id:"接口中的get和post",text:"接口中的GET和POST",depth:3},{id:"关于安全性",text:"关于安全性",depth:3},{id:"web的结构组件",text:"Web的结构组件",depth:2},{id:"http2-与-http3",text:"HTTP/2 与 HTTP/3",depth:2},{id:"http2",text:"HTTP/2",depth:3},{id:"http3",text:"HTTP/3",depth:3}],title:"HTTP基础",headingTitle:"HTTP基础",frontmatter:{}}}}]);