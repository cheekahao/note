# Vite

与`Webpack`等传统的打包工具相比，`Vite`属于新一代的`Bundless`构建工具。

主要有两个优势：

* 基于浏览器内置`ES Module`实现，只在浏览器请求源码时进行转换并按需提供源码
* 借助`esbuild`超快的编译速度对第三方依赖进行预构建。这主要是因为依赖大多为在开发时不会变动，且处理代价较高，会存在多种模块化格式（例如`ESM`或者`CommonJS`）

## 依赖预构建

`Vite`将应用中的模块区分为**依赖**和**源码**两类，会在首次启动`Vite`时，对依赖进行预构建。

主要有两个目的：

* `CommonJS`和`UMD`兼容性：`Vite dev server`将所有代码视为原生`ES`模块。因此，=须先将作为`CommonJS`或`UMD`发布的依赖项转换为`ESM`
* 性能：`Vite`会将有许多内部模块的`ESM`依赖关系转换为单个模块，以提高后续页面加载性能。
