# 前端性能

## 核心指标`Web Vitals`

**Google**在`2020`年推出了网页核心指标`Web Vitals`，提供了一种衡量网站用户体验的标准，以帮助开发者从用户的实际体验出发，优化网站性能。其中包括三大核心指标：

| 指标                             | 描述                                                                                         | 评分标准 |
| -------------------------------- | -------------------------------------------------------------------------------------------- | -------- |
| `LCP`(Largest Contentful Paint)  | 测量页面加载过程中最大的可视内容的绘制时间，主要衡量页面加载速度。                           | < 2.5s， 超过`4s`则表现差 |
| `INP`(Interaction to Next Paint) | 测量用户与网站交互（如点击按钮）到下一次绘制的时间间隔，主要衡量用户交互响应速度。           | < 200ms, 超过`500ms`则表现差  |
| `CLS`(Cumulative Layout Shift)   | 衡量页面元素在加载过程中的稳定性，尤其是视觉元素是否发生不期望的位移，主要衡量页面的稳定性。 | < 0.1， 超过`0.25`则表现差 |

## 加载性能

`LCP`测量的是页面加载过程中最重要可视内容的呈现时间，主要关注的是图片、视频和大文本的加载速度。



## 交互性能

2024年3月12日，`INP`取代`FID`（First Input Delay）成为衡量用户交互响应速度的核心网页指标。`INP`关注的是用户与网站交互的整个过程，而不仅仅是首次交互。这使得`INP`更能反映用户在使用网站时的整体体验。

## 视觉稳定性

`CLS`衡量的是在页面加载过程中，视觉内容的稳定性。如果元素在加载过程中发生了意外的位移，用户体验就会受到影响。优化`CLS`的关键是减少布局变化。

## `Web Vitals`的检测

* `Lighthouse`：Google提供的开源工具，能够详细报告网页的性能、可访问性和 SEO 等多个方面
* `Chrome DevTools`：在`Chrome`开发者工具中查看`LCP`、`FID`和`CLS`等指标，方便进行性能分析和优化
* `web-vitals`：Google提供的`npm`包，可轻松将`Web Vitals`数据集成到你的网站中，并通过`JavaScript API`获取相关的性能数据
